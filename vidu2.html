<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <style>
      .slider-container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        width: 1300px;
        margin: auto;
        flex-wrap: nowrap;
        overflow: hidden;
        cursor: grab;
      }

      .slider-wrapper {
        overflow: hidden;
        width: 1050px;
      }

      .slider-container .slider {
        display: flex;
        gap: 50px;
        transition: transform 0.5s ease-in-out;
      }

      .slider:active {
        cursor: grabbing;
      }

      .slider-container .item {
        width: 300px;
        height: 600px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-size: 40px;
        font-weight: bold;
        border-radius: 10px;
      }

      .slider-container .arrow {
        background: #333;
        color: white;
        border: none;
        padding: 15px;
        cursor: pointer;
        font-size: 24px;
        border-radius: 5px;
      }

      .slider-container .arrow:hover {
        background: #555;
      }

      .slider-container .item img,
      .slider-container .item p {
        user-select: none; /* Ngăn chặn chọn text */
        pointer-events: none; /* Ngăn chặn sự kiện chuột */
      }
    </style>
  </head>
  <body>
    <div class="content-custom container">
      <h2 class="text-center pt-5">
        A Dig into Limitless Possibilities of Our Customization Options!
      </h2>
      <div class="slider-container container d-flex flex-wrap">
        <div class="slider-wrapper">
          <div class="slider">
            <div class="item">
              <img
                src="https://affixapparel.com/wp-content/uploads/2024/10/cut-and-sew.jpg"
                alt=""
                width="300px"
                height="300px"
              />
              <p class="h5">Cut and Sew Manafacturing</p>
              <p class="fs-6 text-body-tertiary">
                we customize your garments from raw fabric. We create each item
                within your custom clothing line with care and attention. The
                quality of our cut-and-sewn apparel generally exceeds that of
                mass-produced apparel.
              </p>
              <button class="btn bg-black text-light">LEARN MORE</button>
            </div>
            <div class="item">
              <img
                src="https://affixapparel.com/wp-content/uploads/2024/10/private-labeling.jpg"
                alt=""
                width="300px"
                height="300px"
              />
              <p class="h5">Cut and Sew Manafacturing</p>
              <p class="fs-6 text-body-tertiary">
                we customize your garments from raw fabric. We create each item
                within your custom clothing line with care and attention. The
                quality of our cut-and-sewn apparel generally exceeds that of
                mass-produced apparel.
              </p>
              <button class="btn bg-black text-light">LEARN MORE</button>
            </div>
            <div class="item">
              <img
                src="https://affixapparel.com/wp-content/uploads/2024/09/screen-printing.jpg"
                alt=""
                width="300px"
                height="300px"
              />
              <p class="h5">Cut and Sew Manafacturing</p>
              <p class="fs-6 text-body-tertiary">
                we customize your garments from raw fabric. We create each item
                within your custom clothing line with care and attention. The
                quality of our cut-and-sewn apparel generally exceeds that of
                mass-produced apparel.
              </p>
              <button class="btn bg-black text-light">LEARN MORE</button>
            </div>
            <div class="item">
              <img
                src="https://affixapparel.com/wp-content/uploads/2024/09/sublimation.jpg"
                alt=""
                width="300px"
                height="300px"
              />
              <p class="h5">Cut and Sew Manafacturing</p>
              <p class="fs-6 text-body-tertiary">
                we customize your garments from raw fabric. We create each item
                within your custom clothing line with care and attention. The
                quality of our cut-and-sewn apparel generally exceeds that of
                mass-produced apparel.
              </p>
              <button class="btn bg-black text-light">LEARN MORE</button>
            </div>
            <div class="item">
              <img
                src="https://affixapparel.com/wp-content/uploads/2024/09/custom-embroidery.jpg"
                alt=""
                width="300px"
                height="300px"
              />
              <p class="h5">Cut and Sew Manafacturing</p>
              <p class="fs-6 text-body-tertiary">
                we customize your garments from raw fabric. We create each item
                within your custom clothing line with care and attention. The
                quality of our cut-and-sewn apparel generally exceeds that of
                mass-produced apparel.
              </p>
              <button class="btn bg-black text-light">LEARN MORE</button>
            </div>
            <div class="item">
              <img
                src="https://affixapparel.com/wp-content/uploads/2024/09/apparel-bags.jpg"
                alt=""
                width="300px"
                height="300px"
              />
              <p class="h5">Cut and Sew Manafacturing</p>
              <p class="fs-6 text-body-tertiary">
                we customize your garments from raw fabric. We create each item
                within your custom clothing line with care and attention. The
                quality of our cut-and-sewn apparel generally exceeds that of
                mass-produced apparel.
              </p>
              <button class="btn bg-black text-light">LEARN MORE</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const slider = document.querySelector(".slider");
      const items = document.querySelectorAll(".item");
      const itemWidth = 350; // Kích thước mỗi item
      let startX = 0;
      let currentTranslate = 0;
      let isDragging = false;

      // Nhân đôi danh sách để tạo hiệu ứng vô hạn
      const originalItems = [...items];
      originalItems.forEach((item) => {
        const clone = item.cloneNode(true);
        slider.appendChild(clone);
      });
      originalItems.reverse().forEach((item) => {
        const clone = item.cloneNode(true);
        slider.prepend(clone);
      });

      // Cập nhật danh sách mới sau khi nhân đôi
      const allItems = document.querySelectorAll(".item");
      const totalItems = allItems.length;
      slider.style.width = `${totalItems * itemWidth}px`;

      // Đặt slider ở vị trí chính giữa danh sách thật
      let currentIndex = originalItems.length;
      slider.style.transform = `translateX(-${currentIndex * itemWidth}px)`;

      function getTranslateX() {
        const transformMatrix = window
          .getComputedStyle(slider)
          .getPropertyValue("transform");
        if (transformMatrix !== "none") {
          return parseFloat(transformMatrix.split(",")[4]);
        }
        return 0;
      }

      function startDrag(e) {
        isDragging = true;
        startX = e.type.includes("mouse") ? e.clientX : e.touches[0].clientX;
        currentTranslate = getTranslateX();
        slider.style.transition = "none"; // Không transition khi kéo
      }

      function dragging(e) {
        if (!isDragging) return;
        let moveX =
          (e.type.includes("mouse") ? e.clientX : e.touches[0].clientX) -
          startX;
        slider.style.transform = `translateX(${currentTranslate + moveX}px)`;
      }

      function stopDrag() {
        isDragging = false;
        currentTranslate = getTranslateX();

        // Nếu kéo quá phần cuối → Dịch chuyển ngay lập tức về phần đầu
        if (currentTranslate > -itemWidth * (originalItems.length - 1)) {
          slider.style.transition = "none";
          currentTranslate =
            -itemWidth * (totalItems - originalItems.length - 1);
          slider.style.transform = `translateX(${currentTranslate}px)`;
        }
        // Nếu kéo quá phần đầu → Dịch chuyển ngay lập tức về phần cuối
        else if (
          currentTranslate <
          -itemWidth * (totalItems - originalItems.length)
        ) {
          slider.style.transition = "none";
          currentTranslate = -itemWidth * originalItems.length;
          slider.style.transform = `translateX(${currentTranslate}px)`;
        }
      }

      // Sự kiện chuột
      slider.addEventListener("mousedown", startDrag);
      slider.addEventListener("mousemove", dragging);
      slider.addEventListener("mouseup", stopDrag);
      slider.addEventListener("mouseleave", stopDrag);

      // Sự kiện cảm ứng (Mobile)
      slider.addEventListener("touchstart", startDrag);
      slider.addEventListener("touchmove", dragging);
      slider.addEventListener("touchend", stopDrag);
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
